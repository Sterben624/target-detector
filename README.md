# üöÅ –°–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü—ñ—ó —Ç–∞ –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥—Ä–æ–Ω—ñ–≤

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è —Ç–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –¥—Ä–æ–Ω—ñ–≤ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∞–∫—É—Å—Ç–∏—á–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤.

## üéØ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **–í–∏—è–≤–ª–µ–Ω–Ω—è –¥—Ä–æ–Ω—ñ–≤** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –Ω–µ–π—Ä–æ–Ω–Ω–æ—ó –º–µ—Ä–µ–∂—ñ, –Ω–∞–≤—á–µ–Ω–æ—ó –Ω–∞ –∞–∫—É—Å—Ç–∏—á–Ω–∏—Ö –æ–∑–Ω–∞–∫–∞—Ö
- **TDOA –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è** –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫—É—Ç–∞ —Ç–∞ –Ω–∞–ø—Ä—è–º–∫—É –¥—Ä–æ–Ω–∞
- **Real-time –æ–±—Ä–æ–±–∫–∞** –∞—É–¥—ñ–æ –ø–æ—Ç–æ–∫—É —á–µ—Ä–µ–∑ UDP
- **50% –ø–µ—Ä–µ–∫—Ä–∏—Ç—Ç—è** –±—É—Ñ–µ—Ä—ñ–≤ –¥–ª—è –ø–ª–∞–≤–Ω–æ—ó –¥–µ—Ç–µ–∫—Ü—ñ—ó
- **–ó–∞–ø–∏—Å –∞—É–¥—ñ–æ** –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è** –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
UDP –ê—É–¥—ñ–æ ‚Üí AudioReceiver ‚Üí BandExtractor (650-800Hz) ‚Üí
BandFeatureExtractor (21 –æ–∑–Ω–∞–∫–∞) ‚Üí DroneDetectionNetwork ‚Üí
3 –ø—ñ–¥—Ä—è–¥ "–¢–ê–ö" ‚Üí TDOA –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è
```

## üì¶ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### `drone_detection_system.py`
–ì–æ–ª–æ–≤–Ω–∏–π –º–æ–¥—É–ª—å —Å–∏—Å—Ç–µ–º–∏, —â–æ –∫–æ–æ—Ä–¥–∏–Ω—É—î –≤—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏.

### `audio_listener/audio_receiver.py`
- –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∞—É–¥—ñ–æ —á–µ—Ä–µ–∑ UDP (–ø–æ—Ä—Ç 8889)
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –±—É—Ñ–µ—Ä —Ç–∞ —Ñ–∞–π–ª
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å—Ç–µ—Ä–µ–æ –∞—É–¥—ñ–æ

### `drone_detector/`
- **`band_extractor.py`** - —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —á–∞—Å—Ç–æ—Ç–Ω–æ—ó —Å–º—É–≥–∏ 650-800 Hz
- **`band_features_extractor.py`** - –≤–∏–ª—É—á–µ–Ω–Ω—è 21 –∞–∫—É—Å—Ç–∏—á–Ω–æ—ó –æ–∑–Ω–∞–∫–∏
- **`drone_detection_network_simple.py`** - –Ω–µ–π—Ä–æ–Ω–Ω–∞ –º–µ—Ä–µ–∂–∞ –¥–ª—è –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

### `tdoa_localization.py`
TDOA (Time Difference of Arrival) –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º GCC-PHAT.

### `utils/`
- **`logger_utils.py`** - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
- **`signal_handler.py`** - –æ–±—Ä–æ–±–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤

## üöÄ –ó–∞–ø—É—Å–∫

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### –ó–∑–ø—É—Å–∫
```bash
# –ú–æ–¥–µ–ª—å —Ç–∞ scaler –º–∞—é—Ç—å –±—É—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó drone_detector/
python drone_detection_system.py
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —Å–∏—Å—Ç–µ–º–∏
```python
system = DroneDetectionSystem(
    sample_rate=44100,           # –ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó
    detection_threshold=0.5,     # –ü–æ—Ä—ñ–≥ –¥–µ—Ç–µ–∫—Ü—ñ—ó (0-1)
    positive_threshold=3,        # –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø—ñ–¥—Ä—è–¥ –¥–µ—Ç–µ–∫—Ü—ñ–π –¥–ª—è –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó
    buffer_duration=1.0,         # –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –±—É—Ñ–µ—Ä–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    model_path="path/to/model.pth",
    scaler_path="path/to/scaler.pkl"
)
```

### UDP –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- **–•–æ—Å—Ç**: `0.0.0.0`
- **–ü–æ—Ä—Ç**: `8889`
- **–§–æ—Ä–º–∞—Ç**: —Å—Ç–µ—Ä–µ–æ, 16-–±—ñ—Ç, 44100 Hz

## üìä –í–∏—Ö–æ–¥–∏ —Å–∏—Å—Ç–µ–º–∏

### –õ–æ–≥–∏
- `logs/drone_detection.log` - –≥–æ–ª–æ–≤–Ω–∏–π –ª–æ–≥ —Å–∏—Å—Ç–µ–º–∏
- `logs/audio_receiver.log` - –ª–æ–≥ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∞—É–¥—ñ–æ
- `logs/signal_handler.log` - –ª–æ–≥ –æ–±—Ä–æ–±–∫–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤

### –ê—É–¥—ñ–æ —Ñ–∞–π–ª–∏
- `logs_audio/received_audio_*.wav` - –∑–∞–ø–∏—Å–∞–Ω—ñ –∞—É–¥—ñ–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏

### –î–µ—Ç–µ–∫—Ü—ñ—è
```
INFO | Drone detected! Probability: 0.842 confidence: 0.842 (Positive count: 1)
INFO | Drone detected! Probability: 0.756 confidence: 0.756 (Positive count: 2)
INFO | Drone detected! Probability: 0.891 confidence: 0.891 (Positive count: 3)
INFO | Triggering TDOA localization...
INFO | Drone localized: angle=27.8¬∞, norm_shift=0.467
INFO | Drone confirmed! Position: {...}
```

## üîß –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–æ–±–æ—Ç–∏

1. **–û—Ç—Ä–∏–º–∞–Ω–Ω—è –∞—É–¥—ñ–æ** —á–µ—Ä–µ–∑ UDP –Ω–∞ –ø–æ—Ä—Ç 8889
2. **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü—ñ—è** –∑ 50% –ø–µ—Ä–µ–∫—Ä–∏—Ç—Ç—è–º (–∫–æ–∂–Ω—ñ 22050 —Å—ç–º–ø–ª—ñ–≤)
3. **–ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è** int16 ‚Üí float32 (—è–∫ librosa)
4. **–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è** —Å–º—É–≥–∏ 650-800 Hz (—á–∞—Å—Ç–æ—Ç–∞ –¥—Ä–æ–Ω—ñ–≤)
5. **–í–∏–ª—É—á–µ–Ω–Ω—è –æ–∑–Ω–∞–∫** - 21 –∞–∫—É—Å—Ç–∏—á–Ω–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞
6. **–ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è** –æ–∑–Ω–∞–∫ —á–µ—Ä–µ–∑ pre-trained scaler
7. **–ö–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è** –Ω–µ–π—Ä–æ–Ω–Ω–æ—é –º–µ—Ä–µ–∂–µ—é
8. **–õ–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è** –ø—ñ—Å–ª—è 3 –ø—ñ–¥—Ä—è–¥ –ø–æ–∑–∏—Ç–∏–≤–Ω–∏—Ö –¥–µ—Ç–µ–∫—Ü—ñ–π

## üéõÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –¥—Ä–æ–Ω—ñ–≤

### –ß–∞—Å—Ç–æ—Ç–Ω–∞ —Å–º—É–≥–∞
```python
# –í band_extractor.py
self.freq_low = 650.0   # –ù–∏–∂–Ω—è —á–∞—Å—Ç–æ—Ç–∞
self.freq_high = 800.0  # –í–µ—Ä—Ö–Ω—è —á–∞—Å—Ç–æ—Ç–∞
```

### –ß—É—Ç–ª–∏–≤—ñ—Å—Ç—å –¥–µ—Ç–µ–∫—Ü—ñ—ó
```python
detection_threshold=0.3  # –ë—ñ–ª—å—à —á—É—Ç–ª–∏–≤–æ
detection_threshold=0.7  # –ú–µ–Ω—à —á—É—Ç–ª–∏–≤–æ
```

### –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—å
```python
positive_threshold=1  # –®–≤–∏–¥—à–∞ —Ä–µ–∞–∫—Ü—ñ—è, –±—ñ–ª—å—à–µ —Ö–∏–±–Ω–∏—Ö —Å–ø—Ä–∞—Ü—é–≤–∞–Ω—å
positive_threshold=5  # –ü–æ–≤—ñ–ª—å–Ω—ñ—à–∞ —Ä–µ–∞–∫—Ü—ñ—è, –º–µ–Ω—à–µ —Ö–∏–±–Ω–∏—Ö —Å–ø—Ä–∞—Ü—é–≤–∞–Ω—å
```

## üèÜ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏

- **–†–µ–∞–ª—å–Ω–∏–π —á–∞—Å**: –æ–±—Ä–æ–±–∫–∞ –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—é –∑–∞—Ç—Ä–∏–º–∫–æ—é
- **–¢–æ—á–Ω—ñ—Å—Ç—å**: –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —è–∫–æ—Å—Ç—ñ –Ω–∞–≤—á–µ–Ω–æ—ó –º–æ–¥–µ–ª—ñ
- **TDOA –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è**: —Ç–æ—á–Ω—ñ—Å—Ç—å ¬±5¬∞ –ø—Ä–∏ —Ö–æ—Ä–æ—à–∏—Ö —É–º–æ–≤–∞—Ö
- **–®–≤–∏–¥–∫–æ–¥—ñ—è**: ~100 –¥–µ—Ç–µ–∫—Ü—ñ–π –Ω–∞ —Å–µ–∫—É–Ω–¥—É

## üìù –ñ—É—Ä–Ω–∞–ª –∑–º—ñ–Ω

### v1.0.0 (2024-09-14)
- ‚úÖ –ü–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤—Å—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –∞—É–¥—ñ–æ (int16 ‚Üí float32)
- ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ 50% –ø–µ—Ä–µ–∫—Ä–∏—Ç—Ç—è –±—É—Ñ–µ—Ä—ñ–≤
- ‚úÖ TDOA –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

## üîí –ë–µ–∑–ø–µ–∫–∞

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ **–≤–∏–∫–ª—é—á–Ω–æ –¥–ª—è –æ–±–æ—Ä–æ–Ω–Ω–∏—Ö —Ü—ñ–ª–µ–π**:
- –í–∏—è–≤–ª–µ–Ω–Ω—è –∑–∞–≥—Ä–æ–∑
- –ó–∞—Ö–∏—Å—Ç –æ–±'—î–∫—Ç—ñ–≤
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø–æ–≤—ñ—Ç—Ä—è–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—Ä—É

‚ùå **–ù–ï** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è:
- –ü–æ—Ä—É—à–µ–Ω–Ω—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—ñ
- –ù–µ–∑–∞–∫–æ–Ω–Ω–æ–≥–æ —Å—Ç–µ–∂–µ–Ω–Ω—è
- –ó–ª–æ—á–∏–Ω–Ω–∏—Ö —Ü—ñ–ª–µ–π

## ü§ù –í–Ω–µ—Å–æ–∫

–ü—Ä–æ–µ–∫—Ç —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –£–∫—Ä–∞—ó–Ω–∏. –í—ñ—Ç–∞—é—Ç—å—Å—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó.

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–†–æ–∑—Ä–æ–±–ª–µ–Ω–æ –¥–ª—è –ø–æ—Ç—Ä–µ–± –æ–±–æ—Ä–æ–Ω–∏ –£–∫—Ä–∞—ó–Ω–∏.

---

üá∫üá¶ **–°–ª–∞–≤–∞ –£–∫—Ä–∞—ó–Ω—ñ!** üá∫üá¶