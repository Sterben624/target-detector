# Audio Listener (–ê—É–¥—ñ–æ –°–ª—É—Ö–∞—á)

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∞—É–¥—ñ–æ–¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ UDP-–∑'—î–¥–Ω–∞–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —ó—Ö —É –≤–∏–≥–ª—è–¥—ñ WAV-—Ñ–∞–π–ª—ñ–≤.

## –û–ø–∏—Å

Audio Listener - —Ü–µ Python-–¥–æ–¥–∞—Ç–æ–∫, —è–∫–∏–π —Å–ª—É—Ö–∞—î UDP-–ø–æ—Ä—Ç –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∞—É–¥—ñ–æ–¥–∞–Ω–∏—Ö —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î —ó—Ö —É –±—É—Ñ–µ—Ä –ø–∞–º'—è—Ç—ñ —ñ/–∞–±–æ —É WAV-—Ñ–∞–π–ª–∏. –ü—Ä–æ–≥—Ä–∞–º–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—î –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑ –∫–æ–ª—å–æ—Ä–æ–≤–∏–º –≤–∏–≤–æ–¥–æ–º —Ç–∞ —Ä–æ—Ç–∞—Ü—ñ—î—é —Ñ–∞–π–ª—ñ–≤ –ª–æ–≥—ñ–≤.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
audio-listener/
‚îú‚îÄ‚îÄ audio_receiver.py      # –û—Å–Ω–æ–≤–Ω–∏–π –∫–ª–∞—Å –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∞—É–¥—ñ–æ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ logger_utils.py    # –£—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑ –∫–æ–ª—å–æ—Ä–æ–≤–∏–º –≤–∏–≤–æ–¥–æ–º
‚îÇ   ‚îî‚îÄ‚îÄ signal_handler.py  # –û–±—Ä–æ–±–Ω–∏–∫ —Å–∏–≥–Ω–∞–ª—ñ–≤, –∑–æ–∫—Ä–µ–º–∞ Ctrl+C
‚îú‚îÄ‚îÄ logs/                  # –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –¥–ª—è –ª–æ–≥—ñ–≤
‚îî‚îÄ‚îÄ logs_audio/            # –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –∞—É–¥—ñ–æ—Ñ–∞–π–ª—ñ–≤
```

## –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### AudioReceiver

–ì–æ–ª–æ–≤–Ω–∏–π –∫–ª–∞—Å –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–∞ –æ–±—Ä–æ–±–∫–∏ –∞—É–¥—ñ–æ–¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ UDP.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞:

- **host** (str, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º='0.0.0.0'): IP-–∞–¥—Ä–µ—Å–∞ –¥–ª—è –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è
- **port** (int, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º=8889): UDP-–ø–æ—Ä—Ç –¥–ª—è –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è  
- **save_to_buffer** (bool, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º=True): –ß–∏ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–∞–Ω—ñ —É –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –±—É—Ñ–µ—Ä
- **save_to_file** (bool, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º=True): –ß–∏ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–∞–Ω—ñ —É —Ñ–∞–π–ª
- **audio_file** (str, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º='my_audio.wav'): –®–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∞—É–¥—ñ–æ

#### –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –∞—É–¥—ñ–æ—Ñ–æ—Ä–º–∞—Ç—É:
- **sample_rate**: 44100 –ì—Ü
- **channels**: 1 (–º–æ–Ω–æ)
- **sample_width**: 2 –±–∞–π—Ç–∏ (16-–±—ñ—Ç)

#### –û—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏:

- `setup_socket()`: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è UDP-—Å–æ–∫–µ—Ç–∞
- `setup_audio_file()`: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ WAV-—Ñ–∞–π–ª—É –¥–ª—è –∑–∞–ø–∏—Å—É
- `receive_data(buffer_size=65536)`: –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ UDP
- `save_data(data)`: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —É –±—É—Ñ–µ—Ä —Ç–∞/–∞–±–æ —Ñ–∞–π–ª

### Logger Utils

–ú–æ–¥—É–ª—å `utils/logger_utils.py` –∑–∞–±–µ–∑–ø–µ—á—É—î:

- **–ö–æ–ª—å–æ—Ä–æ–≤–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è** –∑ —Ä—ñ–∑–Ω–∏–º–∏ –∫–æ–ª—å–æ—Ä–∞–º–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ä—ñ–≤–Ω—ñ–≤
- **–†–æ—Ç–∞—Ü—ñ—é —Ñ–∞–π–ª—ñ–≤ –ª–æ–≥—ñ–≤** (–º–∞–∫—Å–∏–º—É–º 10MB –Ω–∞ —Ñ–∞–π–ª, 3 —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó)
- **–ì–Ω—É—á–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** —Ä—ñ–≤–Ω—ñ–≤ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –∫–æ–Ω—Å–æ–ª—ñ —Ç–∞ —Ñ–∞–π–ª—É –æ–∫—Ä–µ–º–æ

#### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ setup_logger():

- **name** (str): –ù–∞–∑–≤–∞ –ª–æ–≥–µ—Ä–∞
- **level** (str): –ë–∞–∑–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è ('DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL')
- **log_file** (str): –®–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É –ª–æ–≥—ñ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è, —è–∫—â–æ None)
- **console_output** (bool): –£–≤—ñ–º–∫–Ω—É—Ç–∏ –≤–∏–≤—ñ–¥ —É –∫–æ–Ω—Å–æ–ª—å
- **file_level** (str): –†—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è —Ñ–∞–π–ª—É (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î 'level', —è–∫—â–æ None)
- **console_level** (str): –†—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –∫–æ–Ω—Å–æ–ª—ñ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î 'level', —è–∫—â–æ None)
- **max_bytes** (int): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É –ª–æ–≥—ñ–≤ (10MB –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
- **backup_count** (int): –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ –ª–æ–≥—ñ–≤ (3 –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)

## –ó–∞–ø—É—Å–∫

### –û—Å–Ω–æ–≤–Ω–∏–π —Ä–µ–∂–∏–º:

```bash
python audio_receiver.py
```

–¶–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å AudioReceiver –∑ —Ç–∞–∫–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏:
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É –±—É—Ñ–µ—Ä: —É–≤—ñ–º–∫–Ω–µ–Ω–æ
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É —Ñ–∞–π–ª: —É–≤—ñ–º–∫–Ω–µ–Ω–æ
- –§–∞–π–ª –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è: `logs_audio/my_audio.wav`
- –ü—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è –Ω–∞: `0.0.0.0:8889`

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤:

```python
# –ü—Ä–∏–∫–ª–∞–¥ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
receiver = AudioReceiver(
    host='localhost',           # –ü—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è
    port=9000,                 # –Ü–Ω—à–∏–π –ø–æ—Ä—Ç
    save_to_buffer=False,      # –ù–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —É –±—É—Ñ–µ—Ä
    save_to_file=True,         # –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —É —Ñ–∞–π–ª
    audio_file='my_recording.wav'  # –ö–∞—Å—Ç–æ–º–Ω–∞ –Ω–∞–∑–≤–∞ —Ñ–∞–π–ª—É
)
```

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **UDP-–ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è**: –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∞—É–¥—ñ–æ–¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ UDP-–ø—Ä–æ—Ç–æ–∫–æ–ª
- **–ü–æ–¥–≤—ñ–π–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è**: –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–∞–Ω—ñ –æ–¥–Ω–æ—á–∞—Å–Ω–æ —É –±—É—Ñ–µ—Ä –ø–∞–º'—è—Ç—ñ —Ç–∞ —Ñ–∞–π–ª
- **WAV-—Ñ–æ—Ä–º–∞—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ñ–¥—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–∏—Ö WAV-—Ñ–∞–π–ª—ñ–≤
- **Timeout-–æ–±—Ä–æ–±–∫–∞**: –û–±—Ä–æ–±–∫–∞ —Ç–∞–π–º-–∞—É—Ç—ñ–≤ —Å–æ–∫–µ—Ç–∞ (1 —Å–µ–∫—É–Ω–¥–∞)
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è**: –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑ –∫–æ–ª—å–æ—Ä–æ–≤–∏–º –≤–∏–≤–æ–¥–æ–º —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º —É —Ñ–∞–π–ª–∏
- **Graceful shutdown**: –ö–æ—Ä–µ–∫—Ç–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –ø—Ä–∏ Ctrl+C

## –õ–æ–≥—É–≤–∞–Ω–Ω—è

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤–∫–ª—é—á–∞—î:

- **–ö–æ–Ω—Å–æ–ª—å–Ω–∏–π –≤–∏–≤—ñ–¥** –∑ –∫–æ–ª—å–æ—Ä–æ–≤–∏–º —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è–º
- **–§–∞–π–ª–æ–≤–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è** –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é —Ä–æ—Ç–∞—Ü—ñ—î—é
- **–†—ñ–∑–Ω—ñ —Ä—ñ–≤–Ω—ñ –¥–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—ó** –¥–ª—è –∫–æ–Ω—Å–æ–ª—ñ —Ç–∞ —Ñ–∞–π–ª—É
- **Timestamping** —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ñ–∞–π–ª/—Ñ—É–Ω–∫—Ü—ñ—é

### –ö–æ–ª—å–æ—Ä–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è:
- üîµ DEBUG - –ë–ª–∞–∫–∏—Ç–Ω–∏–π
- üü¢ INFO - –ó–µ–ª–µ–Ω–∏–π
- üü° WARNING - –ñ–æ–≤—Ç–∏–π
- üî¥ ERROR - –ß–µ—Ä–≤–æ–Ω–∏–π
- üü£ CRITICAL - –§—ñ–æ–ª–µ—Ç–æ–≤–∏–π

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏

- Python 3.6+
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏: `socket`, `wave`, `logging`, `pathlib`
- –ú–µ—Ä–µ–∂–µ–≤–∏–π –¥–æ—Å—Ç—É–ø –¥–ª—è UDP-–∑'—î–¥–Ω–∞–Ω—å

## –ü—Ä–∏–º—ñ—Ç–∫–∏ –∑ –±–µ–∑–ø–µ–∫–∏

- –ü—Ä–æ–≥—Ä–∞–º–∞ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É—î –Ω–∞ –≤—Å—ñ—Ö IP-–∞–¥—Ä–µ—Å–∞—Ö (0.0.0.0) –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ firewall –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É
- –î–∞–Ω—ñ –Ω–µ —à–∏—Ñ—Ä—É—é—Ç—å—Å—è - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ç—ñ–ª—å–∫–∏ —É –¥–æ–≤—ñ—Ä–µ–Ω–æ–º—É –º–µ—Ä–µ–∂–µ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ

## –†–æ–∑—Ä–æ–±–∫–∞

–î–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –º–æ–∂–Ω–∞:

1. –î–æ–¥–∞—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫—É —ñ–Ω—à–∏—Ö –∞—É–¥—ñ–æ—Ñ–æ—Ä–º–∞—Ç—ñ–≤
2. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ TCP-–∑'—î–¥–Ω–∞–Ω–Ω—è —è–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É UDP
3. –î–æ–¥–∞—Ç–∏ –∫–æ–º–ø—Ä–µ—Å—ñ—é –∞—É–¥—ñ–æ–¥–∞–Ω–∏—Ö
4. –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –∑ —Å–∏—Å—Ç–µ–º–∞–º–∏ –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –∞—É–¥—ñ–æ